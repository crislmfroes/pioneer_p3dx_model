<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>p3dx_navigation: navigation_tutorial.md Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">navigation_tutorial.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="navigation__tutorial_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# launching the navigation stack on a simulated robot</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;First, launch the p3dx.launch file in the p3dx_gazebo package:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;```console</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;foo@bar:~$ source /opt/ros/melodic/setup.bash</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;foo@bar:~$ source /path/to/catkin_ws/devel/setup.bash</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;foo@bar:~$ roslaunch p3dx_gazebo pioneer3dx.launch world:=map1_wo_robot</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;```</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;Then, in another terminal, launch the navigation.launch file, found in the p3dx_navigation package, passing the **absolute** path to the saved map.yaml file. In case you are using the same world as this tutorial, we already provide the required map file for you as the default argument, inside the maps folder of the package, so you don&#39;t need to pass anything. In case you are using another Gazebo world, you will need to use SLAM to generate said map.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;![A Pioneer P3-DX robot inside Gazebo.](img/p3dx_gazebo.png &quot;A Pioneer P3-DX robot inside Gazebo.&quot;)</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;```console</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;foo@bar:~$ source /opt/ros/melodic/setup.bash</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;foo@bar:~$ source /path/to/catkin_ws/devel/setup.bash</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;foo@bar:~$ roslaunch p3dx_navigation navigation.launch map_file:=path/to/map.yaml</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;```</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;You should now have an rviz window displaying the robot as well as the map file. Now click on the button &#39;2D Pose Estimate&#39; and use the arrow to set the robot&#39;s initial pose on the map.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;After doing so you should see a particle cloud surrounding the robot. How far appart the particles are from each other indicate the level of uncertainty about the robot&#39;s current position on the map.</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;![The Rviz window displaying the robot and the map.](img/navigation_rviz_p3dx_0.png &quot;The Rviz window displaying the robot and the map.&quot;)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;Now you need to click on the &#39;2D Nav Goal&#39; button, and use the arrow to define the robot&#39;s target position on the map. Once you release the arrow you should see the robot&#39;s planned path on the map, and it should start moving to reach said goal.</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;![The Rviz window displaying the robot, the map, the particle cloud and the planned path.](img/navigation_rviz_p3dx_1.png &quot;The Rviz window displaying the robot, the map, the particle cloud and the planned path.&quot;)</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;![The robot has reached it&#39;s goal position in Gazebo.](img/p3dx_gazebo_goal_reached.png &quot;The robot has reached it&#39;s goal position in Gazebo.&quot;)</div></div><!-- fragment --></div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/p3dx_navigation">p3dx_navigation</a><br />
Author(s): </br />
<small>autogenerated on Fri May 8 2020 02:08:56</small>
</div>
</body>
</html>
